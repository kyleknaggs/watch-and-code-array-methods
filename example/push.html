<script src="../simpletest.js"></script>
<script>
  // Summary:
  // Adds one or more elements to the end of an array.

  // Example:
  // var array = [1, 2, 3];
  // push(array, 4) >>> array === [1, 2, 3, 4];

  // Prototype implementation:
  // var array = [1, 2, 3];

  // function push(array, optionalElements) {
  //   var indexToPushElement = array.length;

  //   for (var i = 1; i < arguments.length; i++) {
  //     var elementToPush = arguments[i];
  //     array[indexToPushElement] = elementToPush;
  //     indexToPushElement++;
  //   }

  //   return array.length;
  // }

  // push(array, 4, 5);
  // console.log(array);
  // console.log(array.length);

  // Function signature:
  // push(array, optionalElements);

  // Arguments:
  // optionalElements: Sequence of elements to add to the end of array.
  // e.g. push([1], 2, 3, 4);

  // Return value:
  // The new length of array.

  // Requirements:

  // // Function Syntax:
  function push(array, element) {
    if (Array.isArray(array) === false) {
      // Unsure of what messages to trigger along with typeError
      throw new TypeError("");
    }

    var indexToPushElement = array.length;

    for (var i = 1; i < arguments.length; i++) {
      var elementToPush = arguments[i];
      array[indexToPushElement] = elementToPush;
      indexToPushElement++;
    }

    return array.length;
  }

  tests({
    "1a) It should return a number.": function() {
      var pushedValue = push([1]);
      eq(typeof pushedValue === "number", true);
    },

    "2a) If array.length === 1, it should add an element to the end of array.": function() {
      var arrayWithOneElement = [1];
      push(arrayWithOneElement, 2);
      eq(arrayWithOneElement.length, 2);
      eq(arrayWithOneElement[1], 2);
    },
    "2b) If array.length > 1, it should add an element to the end of array.": function() {
      var arrayWithMultipleElements = [1, 2];
      push(arrayWithMultipleElements, 3);
      eq(arrayWithMultipleElements.length, 3);
      eq(arrayWithMultipleElements[2], 3);
    },
    "2c) It should add multiple elements to the end of array.": function() {
      var array = [1];
      push(array, 2, 3);
      eq(array[1], 2);
      eq(array[2], 3);
      eq(array.length, 3);
    },

    "3a) It should modify array, instead of creating a new array.": function() {
      var array = [1];
      var duplicateArray = array;
      push(array, 2);
      eq(array, duplicateArray);
    },
    "3b) It should return the new length of the modified array.": function() {
      var pushedValue = push([1, 2]);
      eq(pushedValue, 2);
    },

    "4b) If array is an array like object, it should return typeError.": function() {
      // TODO: Test different possible messages to be triggered with typeError.
      var isTypeError = false;
      try {
        function pushArguments() {
          push(arguments, 1);
        }
        pushArguments();
      } catch (e) {
        isTypeError = e instanceof TypeError;
      }
      eq(isTypeError, true);
    },
    "5a) It should be able to be used with apply().": function() {
      var array = [0];
      var argumentArray = [1];
      array.push.apply(argumentArray);
      eq(array.length, 2);
      eq(array[0], 0);
      eq(array[1], 1);
    },
    "5b) It should be able to be used with call().": function() {
      fail();
      // var array = [0];
      // array.push.call(1);
      // eq(array.length, 2);
      // eq(array[0], 0);
      // eq(array[1], 1);
    },
    "6a) If array is object, it should work when used with call.": function() {
      fail();
      // var testObject = {};
      // var pushedObject = push.call(testObject, 0);
      // eq(pushedObject[0], 0);
      // eq(pushedObject.length, 1);
    },
    "7a) It object has length, and length is a number, use the index length.": function() {
      fail();
      // var testObjectWhereLengthNotZero = {
      //   length: 10
      // };
      // push.call(testObjectWhereLengthNotZero, "a");
      // eq(testObjectWhereLengthNotZero[10], "a");
      // eq(testObjectWhereLengthNotZero.length, 11);
    },
    "7b) It object has length, and length is 0, use the index 0.": function() {
      fail();
      // var testObjectWhereLengthIsZero = {
      //   length: 0
      // };
      // push.call(testObjectWhereLengthIsZero, "a");
      // eq(testObjectWhereLengthIsZero[0], "a");
      // eq(testObjectWhereLengthIsZero.length, 1);
    },
    "7c) If object has length, but length is not a number, use the index 0.": function() {
      fail();
      // var testObjectWhereLengthNotNumber = {
      //   length: "string"
      // };
      // push.call(testObjectWhereLengthNotNumber, "a");
      // eq(testObjectWhereLengthNotNumber[0], "a");
      // eq(testObjectWhereLengthNotNumber.length, 1);
    },
    "7d) If object does not have length, create length property.": function() {
      fail();
      // var testObjectWithoutLength = {
      //   key: 'value'
      // };
      // eq(testObjectWithoutLength, undefined);
      // push.call(testObjectWithoutLength, 'a');
      // eq(testObjectWithoutLength.length, 1);
    }
  });
</script>
